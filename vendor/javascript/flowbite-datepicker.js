// flowbite-datepicker@2.0.0 downloaded from https://ga.jspm.io/npm:flowbite-datepicker@2.0.0/dist/main.esm.js

function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=Array(t);i<t;i++)r[i]=e[i];return r}function t(e){if(Array.isArray(e))return e}function i(t){if(Array.isArray(t))return e(t)}function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t,i){return t=l(t),m(e,u()?Reflect.construct(t,i||[],l(e).constructor):t.apply(e,i))}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,D(r.key),r)}}function o(e,t,i){return t&&s(e.prototype,t),i&&s(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,i){var r=b(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:i):a.value}},d.apply(null,arguments)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(u=function(){return!!e})()}function h(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function f(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var r,a,n,s,o=[],d=!0,l=!1;try{if(n=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;d=!1}else for(;!(d=(r=n.call(i)).done)&&(o.push(r.value),o.length!==t);d=!0);}catch(e){l=!0,a=e}finally{try{if(!d&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(l)throw a}}return o}}function v(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return r(e)}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function y(e,i){return t(e)||f(e,i)||S(e,i)||v()}function b(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}function w(e){return i(e)||h(e)||S(e)||p()}function k(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function D(e){var t=k(e,"string");return"symbol"==typeof t?t:t+""}function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function S(t,i){if(t){if("string"==typeof t)return e(t,i);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,i):void 0}}function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function M(e){return e[e.length-1]}function C(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];i.forEach((function(t){e.includes(t)||e.push(t)}));return e}function E(e,t){return e?e.split(t):[]}function F(e,t,i){var r=t===void 0||e>=t;var a=i===void 0||e<=i;return r&&a}function V(e,t,i){return e<t?t:e>i?i:e}function A(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"";var n=Object.keys(i).reduce((function(e,t){var a=i[t];typeof a==="function"&&(a=a(r));return"".concat(e," ").concat(t,'="').concat(a,'"')}),e);a+="<".concat(n,"></").concat(e,">");var s=r+1;return s<t?A(e,t,i,s,a):a}function L(e){return e.replace(/>\s+/g,">").replace(/\s+</,"<")}function N(e){return new Date(e).setHours(0,0,0,0)}function B(){return(new Date).setHours(0,0,0,0)}function Y(){switch(arguments.length){case 0:return B();case 1:return N(arguments.length<=0?void 0:arguments[0])}var e=new Date(0);e.setFullYear.apply(e,arguments);return e.setHours(0,0,0,0)}function j(e,t){var i=new Date(e);return i.setDate(i.getDate()+t)}function W(e,t){return j(e,t*7)}function _(e,t){var i=new Date(e);var r=i.getMonth()+t;var a=r%12;a<0&&(a+=12);var n=i.setMonth(r);return i.getMonth()!==a?i.setDate(0):n}function T(e,t){var i=new Date(e);var r=i.getMonth();var a=i.setFullYear(i.getFullYear()+t);return r===1&&i.getMonth()===2?i.setDate(0):a}function P(e,t){return(e-t+7)%7}function K(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;var r=new Date(e).getDay();return j(e,P(t,i)-P(r,i))}function H(e){var t=K(e,4,1);var i=K(new Date(t).setMonth(0,4),4,1);return Math.round((t-i)/6048e5)+1}function R(e,t){var i=new Date(e).getFullYear();return Math.floor(i/t)*t}var I=/dd?|DD?|mm?|MM?|yy?(?:yy)?/;var q=/[\s!-/:-@[-`{-~年月日]+/;var J={};var U={y:function(e,t){return new Date(e).setFullYear(parseInt(t,10))},m:function(e,t,i){var r=new Date(e);var a=parseInt(t,10)-1;if(isNaN(a)){if(!t)return NaN;var n=t.toLowerCase();var s=function(e){return e.toLowerCase().startsWith(n)};a=i.monthsShort.findIndex(s);a<0&&(a=i.months.findIndex(s));if(a<0)return NaN}r.setMonth(a);return r.getMonth()!==X(a)?r.setDate(0):r.getTime()},d:function(e,t){return new Date(e).setDate(parseInt(t,10))}};var z={d:function(e){return e.getDate()},dd:function(e){return $(e.getDate(),2)},D:function(e,t){return t.daysShort[e.getDay()]},DD:function(e,t){return t.days[e.getDay()]},m:function(e){return e.getMonth()+1},mm:function(e){return $(e.getMonth()+1,2)},M:function(e,t){return t.monthsShort[e.getMonth()]},MM:function(e,t){return t.months[e.getMonth()]},y:function(e){return e.getFullYear()},yy:function(e){return $(e.getFullYear(),2).slice(-2)},yyyy:function(e){return $(e.getFullYear(),4)}};function X(e){return e>-1?e%12:X(e+12)}function $(e,t){return e.toString().padStart(t,"0")}function G(e){if(typeof e!=="string")throw new Error("Invalid date format.");if(e in J)return J[e];var t=e.split(I);var i=e.match(new RegExp(I,"g"));if(t.length===0||!i)throw new Error("Invalid date format.");var r=i.map((function(e){return z[e]}));var a=Object.keys(U).reduce((function(e,t){var r=i.find((function(e){return e[0]!=="D"&&e[0].toLowerCase()===t}));r&&e.push(t);return e}),[]);return J[e]={parser:function(e,t){var r=e.split(q).reduce((function(e,t,r){if(t.length>0&&i[r]){var a=i[r][0];a==="M"?e.m=t:a!=="D"&&(e[a]=t)}return e}),{});return a.reduce((function(e,i){var a=U[i](e,r[i],t);return isNaN(a)?e:a}),B())},formatter:function(e,i){var a=r.reduce((function(r,a,n){return r+"".concat(t[n]).concat(a(e,i))}),"");return a+M(t)}}}function Q(e,t,i){if(e instanceof Date||typeof e==="number"){var r=N(e);return isNaN(r)?void 0:r}if(e){if(e==="today")return B();if(t&&t.toValue){var a=t.toValue(e,t,i);return isNaN(a)?void 0:N(a)}return G(t).parser(e,i)}}function Z(e,t,i){if(isNaN(e)||!e&&e!==0)return"";var r=typeof e==="number"?new Date(e):e;return t.toDisplay?t.toDisplay(r,t,i):G(t).formatter(r,i)}var ee=new WeakMap;var te=EventTarget.prototype,ie=te.addEventListener,re=te.removeEventListener;function ae(e,t){var i=ee.get(e);if(!i){i=[];ee.set(e,i)}t.forEach((function(e){ie.call.apply(ie,w(e));i.push(e)}))}function ne(e){var t=ee.get(e);if(t){t.forEach((function(e){re.call.apply(re,w(e))}));ee.delete(e)}}if(!Event.prototype.composedPath){var se=function e(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];i.push(t);var r;t.parentNode?r=t.parentNode:t.host?r=t.host:t.defaultView&&(r=t.defaultView);return r?e(r,i):i};Event.prototype.composedPath=function(){return se(this.target)}}function oe(e,t,i){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;var a=e[r];return t(a)?a:a!==i&&a.parentElement?oe(e,t,i,r+1):void 0}function de(e,t){var i=typeof t==="function"?t:function(e){return e.matches(t)};return oe(e.composedPath(),i,e.currentTarget)}var le={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM y"}};var ce={autohide:false,beforeShowDay:null,beforeShowDecade:null,beforeShowMonth:null,beforeShowYear:null,calendarWeeks:false,clearBtn:false,dateDelimiter:",",datesDisabled:[],daysOfWeekDisabled:[],daysOfWeekHighlighted:[],defaultViewDate:void 0,disableTouchKeyboard:false,format:"mm/dd/yyyy",language:"en",maxDate:null,maxNumberOfDates:1,maxView:3,minDate:null,nextArrow:'<svg class="w-4 h-4 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5h12m0 0L9 1m4 4L9 9"/></svg>',orientation:"auto",pickLevel:0,prevArrow:'<svg class="w-4 h-4 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 5H1m0 0 4 4M1 5l4-4"/></svg>',showDaysOfWeek:true,showOnClick:true,showOnFocus:true,startView:0,title:"",todayBtn:false,todayBtnMode:0,todayHighlight:false,updateOnBlur:true,weekStart:0};var ue=null;function he(e){ue==null&&(ue=document.createRange());return ue.createContextualFragment(e)}function fe(e){if(e.style.display!=="none"){e.style.display&&(e.dataset.styleDisplay=e.style.display);e.style.display="none"}}function ve(e){if(e.style.display==="none")if(e.dataset.styleDisplay){e.style.display=e.dataset.styleDisplay;delete e.dataset.styleDisplay}else e.style.display=""}function pe(e){if(e.firstChild){e.removeChild(e.firstChild);pe(e)}}function me(e,t){pe(e);t instanceof DocumentFragment?e.appendChild(t):typeof t==="string"?e.appendChild(he(t)):typeof t.forEach==="function"&&t.forEach((function(t){e.appendChild(t)}))}var ge=ce.language,ye=ce.format,be=ce.weekStart;function we(e,t){return e.length<6&&t>=0&&t<7?C(e,t):e}function ke(e){return(e+6)%7}function De(e,t,i,r){var a=Q(e,t,i);return a!==void 0?a:r}function xe(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:3;var r=parseInt(e,10);return r>=0&&r<=i?r:t}function Se(e,t){var i=Object.assign({},e);var r={};var a=t.constructor.locales;var n=t.config||{},s=n.format,o=n.language,d=n.locale,l=n.maxDate,c=n.maxView,u=n.minDate,h=n.pickLevel,f=n.startView,v=n.weekStart;if(i.language){var p;if(i.language!==o)if(a[i.language])p=i.language;else{p=i.language.split("-")[0];a[p]===void 0&&(p=false)}delete i.language;if(p){o=r.language=p;var m=d||a[ge];d=Object.assign({format:ye,weekStart:be},a[ge]);o!==ge&&Object.assign(d,a[o]);r.locale=d;s===m.format&&(s=r.format=d.format);if(v===m.weekStart){v=r.weekStart=d.weekStart;r.weekEnd=ke(d.weekStart)}}}if(i.format){var g=typeof i.format.toDisplay==="function";var y=typeof i.format.toValue==="function";var b=I.test(i.format);(g&&y||b)&&(s=r.format=i.format);delete i.format}var w=u;var k=l;if(i.minDate!==void 0){w=i.minDate===null?Y(0,0,1):De(i.minDate,s,d,w);delete i.minDate}if(i.maxDate!==void 0){k=i.maxDate===null?void 0:De(i.maxDate,s,d,k);delete i.maxDate}if(k<w){u=r.minDate=k;l=r.maxDate=w}else{u!==w&&(u=r.minDate=w);l!==k&&(l=r.maxDate=k)}if(i.datesDisabled){r.datesDisabled=i.datesDisabled.reduce((function(e,t){var i=Q(t,s,d);return i!==void 0?C(e,i):e}),[]);delete i.datesDisabled}if(i.defaultViewDate!==void 0){var D=Q(i.defaultViewDate,s,d);D!==void 0&&(r.defaultViewDate=D);delete i.defaultViewDate}if(i.weekStart!==void 0){var x=Number(i.weekStart)%7;if(!isNaN(x)){v=r.weekStart=x;r.weekEnd=ke(x)}delete i.weekStart}if(i.daysOfWeekDisabled){r.daysOfWeekDisabled=i.daysOfWeekDisabled.reduce(we,[]);delete i.daysOfWeekDisabled}if(i.daysOfWeekHighlighted){r.daysOfWeekHighlighted=i.daysOfWeekHighlighted.reduce(we,[]);delete i.daysOfWeekHighlighted}if(i.maxNumberOfDates!==void 0){var S=parseInt(i.maxNumberOfDates,10);if(S>=0){r.maxNumberOfDates=S;r.multidate=S!==1}delete i.maxNumberOfDates}if(i.dateDelimiter){r.dateDelimiter=String(i.dateDelimiter);delete i.dateDelimiter}var M=h;if(i.pickLevel!==void 0){M=xe(i.pickLevel,2);delete i.pickLevel}M!==h&&(h=r.pickLevel=M);var E=c;if(i.maxView!==void 0){E=xe(i.maxView,c);delete i.maxView}E=h>E?h:E;E!==c&&(c=r.maxView=E);var F=f;if(i.startView!==void 0){F=xe(i.startView,F);delete i.startView}F<h?F=h:F>c&&(F=c);F!==f&&(r.startView=F);if(i.prevArrow){var V=he(i.prevArrow);V.childNodes.length>0&&(r.prevArrow=V.childNodes);delete i.prevArrow}if(i.nextArrow){var A=he(i.nextArrow);A.childNodes.length>0&&(r.nextArrow=A.childNodes);delete i.nextArrow}if(i.disableTouchKeyboard!==void 0){r.disableTouchKeyboard="ontouchstart"in document&&!!i.disableTouchKeyboard;delete i.disableTouchKeyboard}if(i.orientation){var L=i.orientation.toLowerCase().split(/\s+/g);r.orientation={x:L.find((function(e){return e==="left"||e==="right"}))||"auto",y:L.find((function(e){return e==="top"||e==="bottom"}))||"auto"};delete i.orientation}if(i.todayBtnMode!==void 0){switch(i.todayBtnMode){case 0:case 1:r.todayBtnMode=i.todayBtnMode}delete i.todayBtnMode}Object.keys(i).forEach((function(e){i[e]!==void 0&&O(ce,e)&&(r[e]=i[e])}));return r}var Oe=L('<div class="datepicker hidden">\n  <div class="datepicker-picker inline-block rounded-base bg-neutral-primary-medium border border-default-medium p-4">\n    <div class="datepicker-header">\n      <div class="datepicker-title bg-neutral-primary-medium text-heading px-2 py-3 text-center font-medium"></div>\n      <div class="datepicker-controls flex justify-between mb-2">\n        <button type="button" class="bg-neutral-primary-medium rounded-base text-body hover:bg-neutral-tertiary-medium hover:text-heading text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-neutral-tertiary prev-btn"></button>\n        <button type="button" class="text-sm rounded-base text-heading bg-neutral-primary-medium font-medium py-2.5 px-5 hover:bg-neutral-tertiary-medium focus:outline-none focus:ring-2 focus:ring-neutral-tertiary view-switch"></button>\n        <button type="button" class="bg-neutral-primary-medium rounded-base text-body hover:bg-neutral-tertiary-medium hover:text-heading text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-neutral-tertiary next-btn"></button>\n      </div>\n    </div>\n    <div class="datepicker-main p-1"></div>\n    <div class="datepicker-footer">\n      <div class="datepicker-controls flex space-x-2 rtl:space-x-reverse mt-2">\n        <button type="button" class="%buttonClass% today-btn text-white bg-brand hover:bg-brand-strong focus:ring-4 focus:ring-brand-medium font-medium rounded-base text-sm px-5 py-2 text-center w-1/2"></button>\n        <button type="button" class="%buttonClass% clear-btn text-body bg-neutral-secondary-medium border border-default-medium hover:bg-neutral-tertiary-medium focus:ring-4 focus:ring-neutral-tertiary font-medium rounded-base text-sm px-5 py-2 text-center w-1/2"></button>\n      </div>\n    </div>\n  </div>\n</div>');var Me=L('<div class="days">\n  <div class="days-of-week grid grid-cols-7 mb-1">'.concat(A("span",7,{class:"dow block flex-1 leading-9 border-0 rounded-base cursor-default text-center text-body font-medium text-sm"}),'</div>\n  <div class="datepicker-grid w-64 grid grid-cols-7">').concat(A("span",42,{class:"block flex-1 leading-9 border-0 rounded-base cursor-default text-center text-body font-medium text-sm h-6 leading-6 text-sm font-medium text-fg-disabled"}),"</div>\n</div>"));var Ce=L('<div class="calendar-weeks">\n  <div class="days-of-week flex"><span class="dow h-6 leading-6 text-sm font-medium text-fg-disabled"></span></div>\n  <div class="weeks">'.concat(A("span",6,{class:"week block flex-1 leading-9 border-0 rounded-base cursor-default text-center text-body font-medium text-sm"}),"</div>\n</div>"));var Ee=function(){function e(t,i){n(this,e);Object.assign(this,i,{picker:t,element:he('<div class="datepicker-view flex"></div>').firstChild,selected:[]});this.init(this.picker.datepicker.config)}return o(e,[{key:"init",value:function(e){e.pickLevel!==void 0&&(this.isMinView=this.id===e.pickLevel);this.setOptions(e);this.updateFocus();this.updateSelection()}},{key:"performBeforeHook",value:function(e,t,i){var r=this.beforeShow(new Date(i));switch(x(r)){case"boolean":r={enabled:r};break;case"string":r={classes:r}}if(r){if(r.enabled===false){e.classList.add("disabled");C(this.disabled,t)}if(r.classes){var a;var n=r.classes.split(/\s+/);(a=e.classList).add.apply(a,w(n));n.includes("disabled")&&C(this.disabled,t)}r.content&&me(e,r.content)}}}])}();var Fe=function(e){function t(e){n(this,t);return a(this,t,[e,{id:0,name:"days",cellClass:"day"}])}c(t,e);return o(t,[{key:"init",value:function(e){var i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(i){var r=he(Me).firstChild;this.dow=r.firstChild;this.grid=r.lastChild;this.element.appendChild(r)}d(l(t.prototype),"init",this).call(this,e)}},{key:"setOptions",value:function(e){var t=this;var i;O(e,"minDate")&&(this.minDate=e.minDate);O(e,"maxDate")&&(this.maxDate=e.maxDate);e.datesDisabled&&(this.datesDisabled=e.datesDisabled);if(e.daysOfWeekDisabled){this.daysOfWeekDisabled=e.daysOfWeekDisabled;i=true}e.daysOfWeekHighlighted&&(this.daysOfWeekHighlighted=e.daysOfWeekHighlighted);e.todayHighlight!==void 0&&(this.todayHighlight=e.todayHighlight);if(e.weekStart!==void 0){this.weekStart=e.weekStart;this.weekEnd=e.weekEnd;i=true}if(e.locale){var r=this.locale=e.locale;this.dayNames=r.daysMin;this.switchLabelFormat=r.titleFormat;i=true}e.beforeShowDay!==void 0&&(this.beforeShow=typeof e.beforeShowDay==="function"?e.beforeShowDay:void 0);if(e.calendarWeeks!==void 0)if(e.calendarWeeks&&!this.calendarWeeks){var a=he(Ce).firstChild;this.calendarWeeks={element:a,dow:a.firstChild,weeks:a.lastChild};this.element.insertBefore(a,this.element.firstChild)}else if(this.calendarWeeks&&!e.calendarWeeks){this.element.removeChild(this.calendarWeeks.element);this.calendarWeeks=null}if(e.showDaysOfWeek!==void 0)if(e.showDaysOfWeek){ve(this.dow);this.calendarWeeks&&ve(this.calendarWeeks.dow)}else{fe(this.dow);this.calendarWeeks&&fe(this.calendarWeeks.dow)}i&&Array.from(this.dow.children).forEach((function(e,i){var r=(t.weekStart+i)%7;e.textContent=t.dayNames[r];e.className=t.daysOfWeekDisabled.includes(r)?"dow disabled text-center h-6 leading-6 text-sm font-medium text-fg-disabled cursor-not-allowed":"dow text-center h-6 leading-6 text-sm font-medium text-body"}))}},{key:"updateFocus",value:function(){var e=new Date(this.picker.viewDate);var t=e.getFullYear();var i=e.getMonth();var r=Y(t,i,1);var a=K(r,this.weekStart,this.weekStart);this.first=r;this.last=Y(t,i+1,0);this.start=a;this.focused=this.picker.viewDate}},{key:"updateSelection",value:function(){var e=this.picker.datepicker,t=e.dates,i=e.rangepicker;this.selected=t;i&&(this.range=i.dates)}},{key:"render",value:function(){var e=this;this.today=this.todayHighlight?B():void 0;this.disabled=w(this.datesDisabled);var t=Z(this.focused,this.switchLabelFormat,this.locale);this.picker.setViewSwitchLabel(t);this.picker.setPrevBtnDisabled(this.first<=this.minDate);this.picker.setNextBtnDisabled(this.last>=this.maxDate);if(this.calendarWeeks){var i=K(this.first,1,1);Array.from(this.calendarWeeks.weeks.children).forEach((function(e,t){e.textContent=H(W(i,t))}))}Array.from(this.grid.children).forEach((function(t,i){var r=t.classList;var a=j(e.start,i);var n=new Date(a);var s=n.getDay();t.className="datepicker-cell hover:bg-neutral-tertiary-medium block flex-1 leading-9 border-0 rounded-base cursor-pointer text-center text-body font-medium text-sm ".concat(e.cellClass);t.dataset.date=a;t.textContent=n.getDate();a<e.first?r.add("prev","text-fg-disabled"):a>e.last&&r.add("next","text-fg-disabled");e.today===a&&r.add("today","bg-gray-100","dark:bg-gray-600");if(a<e.minDate||a>e.maxDate||e.disabled.includes(a)){r.add("disabled","cursor-not-allowed","text-fg-disabled");r.remove("hover:bg-neutral-tertiary-medium","text-body","cursor-pointer")}if(e.daysOfWeekDisabled.includes(s)){r.add("disabled","cursor-not-allowed","text-fg-disabled");r.remove("hover:bg-neutral-tertiary-medium","text-body","cursor-pointer");C(e.disabled,a)}e.daysOfWeekHighlighted.includes(s)&&r.add("highlighted");if(e.range){var o=y(e.range,2),d=o[0],l=o[1];if(a>d&&a<l){r.add("range","bg-neutral-tertiary-medium");r.remove("rounded-base","rounded-s-base","rounded-e-base")}if(a===d){r.add("range-start","bg-brand","rounded-s-base");r.remove("rounded-base","rounded-e-base")}if(a===l){r.add("range-end","bg-neutral-tertiary-medium","rounded-e-base");r.remove("rounded-base","rounded-s-base")}}if(e.selected.includes(a)){r.add("selected","bg-brand","text-white");r.remove("text-body","hover:bg-neutral-tertiary-medium","bg-neutral-tertiary-medium")}a===e.focused&&r.add("focused");e.beforeShow&&e.performBeforeHook(t,a,a)}))}},{key:"refresh",value:function(){var e=this;var t=this.range||[],i=y(t,2),r=i[0],a=i[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach((function(e){e.classList.remove("range","range-start","range-end","selected","bg-brand","text-white","focused");e.classList.add("text-body","rounded-base")}));Array.from(this.grid.children).forEach((function(t){var i=Number(t.dataset.date);var n=t.classList;n.remove("bg-neutral-tertiary-medium","rounded-s-base","rounded-e-base");if(i>r&&i<a){n.add("range","bg-neutral-tertiary-medium");n.remove("rounded-base")}if(i===r){n.add("range-start","bg-brand","text-white","rounded-s-base");n.remove("rounded-base")}if(i===a){n.add("range-end","bg-neutral-tertiary-medium","rounded-e-base");n.remove("rounded-base")}if(e.selected.includes(i)){n.add("selected","bg-brand","text-white");n.remove("text-body","hover:bg-neutral-tertiary-medium","bg-neutral-tertiary-medium")}i===e.focused&&n.add("focused")}))}},{key:"refreshFocus",value:function(){var e=Math.round((this.focused-this.start)/864e5);this.grid.querySelectorAll(".focused").forEach((function(e){e.classList.remove("focused")}));this.grid.children[e].classList.add("focused")}}])}(Ee);function Ve(e,t){if(e&&e[0]&&e[1]){var i=y(e,2),r=y(i[0],2),a=r[0],n=r[1],s=y(i[1],2),o=s[0],d=s[1];if(!(a>t||o<t))return[a===t?n:-1,o===t?d:12]}}var Ae=function(e){function t(e){n(this,t);return a(this,t,[e,{id:1,name:"months",cellClass:"month"}])}c(t,e);return o(t,[{key:"init",value:function(e){var i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(i){this.grid=this.element;this.element.classList.add("months","datepicker-grid","w-64","grid","grid-cols-4");this.grid.appendChild(he(A("span",12,{"data-month":function(e){return e}})))}d(l(t.prototype),"init",this).call(this,e)}},{key:"setOptions",value:function(e){e.locale&&(this.monthNames=e.locale.monthsShort);if(O(e,"minDate"))if(e.minDate===void 0)this.minYear=this.minMonth=this.minDate=void 0;else{var t=new Date(e.minDate);this.minYear=t.getFullYear();this.minMonth=t.getMonth();this.minDate=t.setDate(1)}if(O(e,"maxDate"))if(e.maxDate===void 0)this.maxYear=this.maxMonth=this.maxDate=void 0;else{var i=new Date(e.maxDate);this.maxYear=i.getFullYear();this.maxMonth=i.getMonth();this.maxDate=Y(this.maxYear,this.maxMonth+1,0)}e.beforeShowMonth!==void 0&&(this.beforeShow=typeof e.beforeShowMonth==="function"?e.beforeShowMonth:void 0)}},{key:"updateFocus",value:function(){var e=new Date(this.picker.viewDate);this.year=e.getFullYear();this.focused=e.getMonth()}},{key:"updateSelection",value:function(){var e=this.picker.datepicker,t=e.dates,i=e.rangepicker;this.selected=t.reduce((function(e,t){var i=new Date(t);var r=i.getFullYear();var a=i.getMonth();e[r]===void 0?e[r]=[a]:C(e[r],a);return e}),{});i&&i.dates&&(this.range=i.dates.map((function(e){var t=new Date(e);return isNaN(t)?void 0:[t.getFullYear(),t.getMonth()]})))}},{key:"render",value:function(){var e=this;this.disabled=[];this.picker.setViewSwitchLabel(this.year);this.picker.setPrevBtnDisabled(this.year<=this.minYear);this.picker.setNextBtnDisabled(this.year>=this.maxYear);var t=this.selected[this.year]||[];var i=this.year<this.minYear||this.year>this.maxYear;var r=this.year===this.minYear;var a=this.year===this.maxYear;var n=Ve(this.range,this.year);Array.from(this.grid.children).forEach((function(s,o){var d=s.classList;var l=Y(e.year,o,1);s.className="datepicker-cell hover:bg-neutral-tertiary-medium block flex-1 leading-9 border-0 rounded-base cursor-pointer text-center text-body font-medium text-sm ".concat(e.cellClass);e.isMinView&&(s.dataset.date=l);s.textContent=e.monthNames[o];(i||r&&o<e.minMonth||a&&o>e.maxMonth)&&d.add("disabled");if(n){var c=y(n,2),u=c[0],h=c[1];o>u&&o<h&&d.add("range");o===u&&d.add("range-start");o===h&&d.add("range-end")}if(t.includes(o)){d.add("selected","bg-brand","text-white","dark:text-white");d.remove("text-body","hover:bg-neutral-tertiary-medium","dark:text-white")}o===e.focused&&d.add("focused");e.beforeShow&&e.performBeforeHook(s,o,l)}))}},{key:"refresh",value:function(){var e=this;var t=this.selected[this.year]||[];var i=Ve(this.range,this.year)||[],r=y(i,2),a=r[0],n=r[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach((function(e){e.classList.remove("range","range-start","range-end","selected","bg-brand","dark:text-white","text-white","focused");e.classList.add("text-body","hover:bg-neutral-tertiary-medium","dark:text-white")}));Array.from(this.grid.children).forEach((function(i,r){var s=i.classList;r>a&&r<n&&s.add("range");r===a&&s.add("range-start");r===n&&s.add("range-end");if(t.includes(r)){s.add("selected","bg-brand","text-white","dark:text-white");s.remove("text-body","hover:bg-neutral-tertiary-medium","dark:text-white")}r===e.focused&&s.add("focused")}))}},{key:"refreshFocus",value:function(){this.grid.querySelectorAll(".focused").forEach((function(e){e.classList.remove("focused")}));this.grid.children[this.focused].classList.add("focused")}}])}(Ee);function Le(e){return w(e).reduce((function(e,t,i){return e+(i?t:t.toUpperCase())}),"")}var Ne=function(e){function t(e,i){n(this,t);return a(this,t,[e,i])}c(t,e);return o(t,[{key:"init",value:function(e){var i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(i){this.navStep=this.step*10;this.beforeShowOption="beforeShow".concat(Le(this.cellClass));this.grid=this.element;this.element.classList.add(this.name,"datepicker-grid","w-64","grid","grid-cols-4");this.grid.appendChild(he(A("span",12)))}d(l(t.prototype),"init",this).call(this,e)}},{key:"setOptions",value:function(e){if(O(e,"minDate"))if(e.minDate===void 0)this.minYear=this.minDate=void 0;else{this.minYear=R(e.minDate,this.step);this.minDate=Y(this.minYear,0,1)}if(O(e,"maxDate"))if(e.maxDate===void 0)this.maxYear=this.maxDate=void 0;else{this.maxYear=R(e.maxDate,this.step);this.maxDate=Y(this.maxYear,11,31)}if(e[this.beforeShowOption]!==void 0){var t=e[this.beforeShowOption];this.beforeShow=typeof t==="function"?t:void 0}}},{key:"updateFocus",value:function(){var e=new Date(this.picker.viewDate);var t=R(e,this.navStep);var i=t+9*this.step;this.first=t;this.last=i;this.start=t-this.step;this.focused=R(e,this.step)}},{key:"updateSelection",value:function(){var e=this;var t=this.picker.datepicker,i=t.dates,r=t.rangepicker;this.selected=i.reduce((function(t,i){return C(t,R(i,e.step))}),[]);r&&r.dates&&(this.range=r.dates.map((function(t){if(t!==void 0)return R(t,e.step)})))}},{key:"render",value:function(){var e=this;this.disabled=[];this.picker.setViewSwitchLabel("".concat(this.first,"-").concat(this.last));this.picker.setPrevBtnDisabled(this.first<=this.minYear);this.picker.setNextBtnDisabled(this.last>=this.maxYear);Array.from(this.grid.children).forEach((function(t,i){var r=t.classList;var a=e.start+i*e.step;var n=Y(a,0,1);t.className="datepicker-cell hover:bg-neutral-tertiary-medium block flex-1 leading-9 border-0 rounded-base cursor-pointer text-center text-body font-medium text-sm ".concat(e.cellClass);e.isMinView&&(t.dataset.date=n);t.textContent=t.dataset.year=a;i===0?r.add("prev"):i===11&&r.add("next");(a<e.minYear||a>e.maxYear)&&r.add("disabled");if(e.range){var s=y(e.range,2),o=s[0],d=s[1];a>o&&a<d&&r.add("range");a===o&&r.add("range-start");a===d&&r.add("range-end")}if(e.selected.includes(a)){r.add("selected","bg-brand","text-white","dark:text-white");r.remove("text-body","hover:bg-neutral-tertiary-medium","dark:text-white")}a===e.focused&&r.add("focused");e.beforeShow&&e.performBeforeHook(t,a,n)}))}},{key:"refresh",value:function(){var e=this;var t=this.range||[],i=y(t,2),r=i[0],a=i[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach((function(e){e.classList.remove("range","range-start","range-end","selected","bg-brand","text-white","dark:text-white","focused")}));Array.from(this.grid.children).forEach((function(t){var i=Number(t.textContent);var n=t.classList;i>r&&i<a&&n.add("range");i===r&&n.add("range-start");i===a&&n.add("range-end");if(e.selected.includes(i)){n.add("selected","bg-brand","text-white","hover:text-heading");n.remove("text-body","hover:bg-neutral-tertiary-medium","hover:text-heading")}i===e.focused&&n.add("focused")}))}},{key:"refreshFocus",value:function(){var e=Math.round((this.focused-this.start)/this.step);this.grid.querySelectorAll(".focused").forEach((function(e){e.classList.remove("focused")}));this.grid.children[e].classList.add("focused")}}])}(Ee);function Be(e,t){var i={date:e.getDate(),viewDate:new Date(e.picker.viewDate),viewId:e.picker.currentView.id,datepicker:e};e.element.dispatchEvent(new CustomEvent(t,{detail:i}))}function Ye(e,t){var i=e.config,r=i.minDate,a=i.maxDate;var n=e.picker,s=n.currentView,o=n.viewDate;var d;switch(s.id){case 0:d=_(o,t);break;case 1:d=T(o,t);break;default:d=T(o,t*s.navStep)}d=V(d,r,a);e.picker.changeFocus(d).render()}function je(e){var t=e.picker.currentView.id;t!==e.config.maxView&&e.picker.changeView(t+1).render()}function We(e){if(e.config.updateOnBlur)e.update({autohide:true});else{e.refresh("input");e.hide()}}function _e(e,t){var i=e.picker;var r=new Date(i.viewDate);var a=i.currentView.id;var n=a===1?_(r,t-r.getMonth()):T(r,t-r.getFullYear());i.changeFocus(n).changeView(a-1).render()}function Te(e){var t=e.picker;var i=B();if(e.config.todayBtnMode===1){if(e.config.autohide){e.setDate(i);return}e.setDate(i,{render:false});t.update()}t.viewDate!==i&&t.changeFocus(i);t.changeView(0).render()}function Pe(e){e.setDate({clear:true})}function Ke(e){je(e)}function He(e){Ye(e,-1)}function Re(e){Ye(e,1)}function Ie(e,t){var i=de(t,".datepicker-cell");if(i&&!i.classList.contains("disabled")){var r=e.picker.currentView,a=r.id,n=r.isMinView;n?e.setDate(Number(i.dataset.date)):_e(e,Number(a===1?i.dataset.month:i.dataset.year))}}function qe(e){e.inline||e.config.disableTouchKeyboard||e.inputField.focus()}function Je(e,t){if(t.title!==void 0)if(t.title){e.controls.title.textContent=t.title;ve(e.controls.title)}else{e.controls.title.textContent="";fe(e.controls.title)}if(t.prevArrow){var i=e.controls.prevBtn;pe(i);t.prevArrow.forEach((function(e){i.appendChild(e.cloneNode(true))}))}if(t.nextArrow){var r=e.controls.nextBtn;pe(r);t.nextArrow.forEach((function(e){r.appendChild(e.cloneNode(true))}))}if(t.locale){e.controls.todayBtn.textContent=t.locale.today;e.controls.clearBtn.textContent=t.locale.clear}t.todayBtn!==void 0&&(t.todayBtn?ve(e.controls.todayBtn):fe(e.controls.todayBtn));if(O(t,"minDate")||O(t,"maxDate")){var a=e.datepicker.config,n=a.minDate,s=a.maxDate;e.controls.todayBtn.disabled=!F(B(),n,s)}t.clearBtn!==void 0&&(t.clearBtn?ve(e.controls.clearBtn):fe(e.controls.clearBtn))}function Ue(e){var t=e.dates,i=e.config;var r=t.length>0?M(t):i.defaultViewDate;return V(r,i.minDate,i.maxDate)}function ze(e,t){var i=new Date(e.viewDate);var r=new Date(t);var a=e.currentView,n=a.id,s=a.year,o=a.first,d=a.last;var l=r.getFullYear();e.viewDate=t;l!==i.getFullYear()&&Be(e.datepicker,"changeYear");r.getMonth()!==i.getMonth()&&Be(e.datepicker,"changeMonth");switch(n){case 0:return t<o||t>d;case 1:return l!==s;default:return l<o||l>d}}function Xe(e){return window.getComputedStyle(e).direction}var $e=function(){function e(t){n(this,e);this.datepicker=t;var i=Oe.replace(/%buttonClass%/g,t.config.buttonClass);var r=this.element=he(i).firstChild;var a=y(r.firstChild.children,3),s=a[0],o=a[1],d=a[2];var l=s.firstElementChild;var c=y(s.lastElementChild.children,3),u=c[0],h=c[1],f=c[2];var v=y(d.firstChild.children,2),p=v[0],m=v[1];var g={title:l,prevBtn:u,viewSwitch:h,nextBtn:f,todayBtn:p,clearBtn:m};this.main=o;this.controls=g;var b=t.inline?"inline":"dropdown";r.classList.add("datepicker-".concat(b));b==="dropdown"?r.classList.add("dropdown","absolute","top-0","left-0","z-50","pt-2"):null;Je(this,t.config);this.viewDate=Ue(t);ae(t,[[r,"click",qe.bind(null,t),{capture:true}],[o,"click",Ie.bind(null,t)],[g.viewSwitch,"click",Ke.bind(null,t)],[g.prevBtn,"click",He.bind(null,t)],[g.nextBtn,"click",Re.bind(null,t)],[g.todayBtn,"click",Te.bind(null,t)],[g.clearBtn,"click",Pe.bind(null,t)]]);this.views=[new Fe(this),new Ae(this),new Ne(this,{id:2,name:"years",cellClass:"year",step:1}),new Ne(this,{id:3,name:"decades",cellClass:"decade",step:10})];this.currentView=this.views[t.config.startView];this.currentView.render();this.main.appendChild(this.currentView.element);t.config.container.appendChild(this.element)}return o(e,[{key:"setOptions",value:function(e){Je(this,e);this.views.forEach((function(t){t.init(e,false)}));this.currentView.render()}},{key:"detach",value:function(){this.datepicker.config.container.removeChild(this.element)}},{key:"show",value:function(){if(!this.active){this.element.classList.add("active","block");this.element.classList.remove("hidden");this.active=true;var e=this.datepicker;if(!e.inline){var t=Xe(e.inputField);t!==Xe(e.config.container)?this.element.dir=t:this.element.dir&&this.element.removeAttribute("dir");this.place();e.config.disableTouchKeyboard&&e.inputField.blur()}Be(e,"show")}}},{key:"hide",value:function(){if(this.active){this.datepicker.exitEditMode();this.element.classList.remove("active","block");this.element.classList.add("active","block","hidden");this.active=false;Be(this.datepicker,"hide")}}},{key:"place",value:function(){var e=this.element,t=e.classList,i=e.style;var r=this.datepicker,a=r.config,n=r.inputField;var s=a.container;var o=this.element.getBoundingClientRect(),d=o.width,l=o.height;var c=s.getBoundingClientRect(),u=c.left,h=c.top,f=c.width;var v=n.getBoundingClientRect(),p=v.left,m=v.top,g=v.width,y=v.height;var b=a.orientation,w=b.x,k=b.y;var D;var x;var S;if(s===document.body){D=window.scrollY;x=p+window.scrollX;S=m+D}else{D=s.scrollTop;x=p-u;S=m-h+D}if(w==="auto")if(x<0){w="left";x=10}else w=x+d>f||Xe(n)==="rtl"?"right":"left";w==="right"&&(x-=d-g);k==="auto"&&(k=S-l<D?"bottom":"top");k==="top"?S-=l:S+=y;t.remove("datepicker-orient-top","datepicker-orient-bottom","datepicker-orient-right","datepicker-orient-left");t.add("datepicker-orient-".concat(k),"datepicker-orient-".concat(w));i.top=S?"".concat(S,"px"):S;i.left=x?"".concat(x,"px"):x}},{key:"setViewSwitchLabel",value:function(e){this.controls.viewSwitch.textContent=e}},{key:"setPrevBtnDisabled",value:function(e){this.controls.prevBtn.disabled=e}},{key:"setNextBtnDisabled",value:function(e){this.controls.nextBtn.disabled=e}},{key:"changeView",value:function(e){var t=this.currentView;var i=this.views[e];if(i.id!==t.id){this.currentView=i;this._renderMethod="render";Be(this.datepicker,"changeView");this.main.replaceChild(i.element,t.element)}return this}},{key:"changeFocus",value:function(e){this._renderMethod=ze(this,e)?"render":"refreshFocus";this.views.forEach((function(e){e.updateFocus()}));return this}},{key:"update",value:function(){var e=Ue(this.datepicker);this._renderMethod=ze(this,e)?"render":"refresh";this.views.forEach((function(e){e.updateFocus();e.updateSelection()}));return this}},{key:"render",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];var t=e&&this._renderMethod||"render";delete this._renderMethod;this.currentView[t]()}}])}();function Ge(e,t,i,r,a,n){if(F(e,a,n)){if(r(e)){var s=t(e,i);return Ge(s,t,i,r,a,n)}return e}}function Qe(e,t,i,r){var a=e.picker;var n=a.currentView;var s=n.step||1;var o=a.viewDate;var d;var l;switch(n.id){case 0:o=r?j(o,i*7):t.ctrlKey||t.metaKey?T(o,i):j(o,i);d=j;l=function(e){return n.disabled.includes(e)};break;case 1:o=_(o,r?i*4:i);d=_;l=function(e){var t=new Date(e);var i=n.year,r=n.disabled;return t.getFullYear()===i&&r.includes(t.getMonth())};break;default:o=T(o,i*(r?4:1)*s);d=T;l=function(e){return n.disabled.includes(R(e,s))}}o=Ge(o,d,i<0?-s:s,l,n.minDate,n.maxDate);o!==void 0&&a.changeFocus(o).render()}function Ze(e,t){if(t.key!=="Tab"){var i=e.picker;var r=i.currentView,a=r.id,n=r.isMinView;if(i.active)if(e.editMode)switch(t.key){case"Escape":i.hide();break;case"Enter":e.exitEditMode({update:true,autohide:e.config.autohide});break;default:return}else switch(t.key){case"Escape":i.hide();break;case"ArrowLeft":if(t.ctrlKey||t.metaKey)Ye(e,-1);else{if(t.shiftKey){e.enterEditMode();return}Qe(e,t,-1,false)}break;case"ArrowRight":if(t.ctrlKey||t.metaKey)Ye(e,1);else{if(t.shiftKey){e.enterEditMode();return}Qe(e,t,1,false)}break;case"ArrowUp":if(t.ctrlKey||t.metaKey)je(e);else{if(t.shiftKey){e.enterEditMode();return}Qe(e,t,-1,true)}break;case"ArrowDown":if(t.shiftKey&&!t.ctrlKey&&!t.metaKey){e.enterEditMode();return}Qe(e,t,1,true);break;case"Enter":n?e.setDate(i.viewDate):i.changeView(a-1).render();break;case"Backspace":case"Delete":e.enterEditMode();return;default:t.key.length!==1||t.ctrlKey||t.metaKey||e.enterEditMode();return}else switch(t.key){case"ArrowDown":case"Escape":i.show();break;case"Enter":e.update();break;default:return}t.preventDefault();t.stopPropagation()}else We(e)}function et(e){e.config.showOnFocus&&!e._showing&&e.show()}function tt(e,t){var i=t.target;if(e.picker.active||e.config.showOnClick){i._active=i===document.activeElement;i._clicking=setTimeout((function(){delete i._active;delete i._clicking}),2e3)}}function it(e,t){var i=t.target;if(i._clicking){clearTimeout(i._clicking);delete i._clicking;i._active&&e.enterEditMode();delete i._active;e.config.showOnClick&&e.show()}}function rt(e,t){t.clipboardData.types.includes("text/plain")&&e.enterEditMode()}function at(e,t){var i=e.element;if(i===document.activeElement){var r=e.picker.element;de(t,(function(e){return e===i||e===r}))||We(e)}}function nt(e,t){return e.map((function(e){return Z(e,t.format,t.locale)})).join(t.dateDelimiter)}function st(e,t){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2];var r=e.config,a=e.dates,n=e.rangepicker;if(t.length===0)return i?[]:void 0;var s=n&&e===n.datepickers[1];var o=t.reduce((function(e,t){var i=Q(t,r.format,r.locale);if(i===void 0)return e;if(r.pickLevel>0){var a=new Date(i);i=r.pickLevel===1?s?a.setMonth(a.getMonth()+1,0):a.setDate(1):s?a.setFullYear(a.getFullYear()+1,0,0):a.setMonth(0,1)}!F(i,r.minDate,r.maxDate)||e.includes(i)||r.datesDisabled.includes(i)||r.daysOfWeekDisabled.includes(new Date(i).getDay())||e.push(i);return e}),[]);if(o.length!==0){r.multidate&&!i&&(o=o.reduce((function(e,t){a.includes(t)||e.push(t);return e}),a.filter((function(e){return!o.includes(e)}))));return r.maxNumberOfDates&&o.length>r.maxNumberOfDates?o.slice(r.maxNumberOfDates*-1):o}}function ot(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3;var i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];var r=e.config,a=e.picker,n=e.inputField;if(t&2){var s=a.active?r.pickLevel:r.startView;a.update().changeView(s).render(i)}t&1&&n&&(n.value=nt(e.dates,r))}function dt(e,t,i){var r=i.clear,a=i.render,n=i.autohide;a===void 0&&(a=true);a?n===void 0&&(n=e.config.autohide):n=false;var s=st(e,t,r);if(s){if(s.toString()!==e.dates.toString()){e.dates=s;ot(e,a?3:1);Be(e,"changeDate")}else ot(e,1);n&&e.hide()}}var lt=function(){
/**
   * Create a date picker
   * @param  {Element} element - element to bind a date picker
   * @param  {Object} [options] - config options
   * @param  {DateRangePicker} [rangepicker] - DateRangePicker instance the
   * date picker belongs to. Use this only when creating date picker as a part
   * of date range picker
   */
function e(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;n(this,e);t.datepicker=this;this.element=t;var a=this.config=Object.assign({buttonClass:i.buttonClass&&String(i.buttonClass)||"button",container:document.body,defaultViewDate:B(),maxDate:void 0,minDate:void 0},Se(ce,this));this._options=i;Object.assign(a,Se(i,this));var s=this.inline=t.tagName!=="INPUT";var o;var d;if(s){a.container=t;d=E(t.dataset.date,a.dateDelimiter);delete t.dataset.date}else{var l=i.container?document.querySelector(i.container):null;l&&(a.container=l);o=this.inputField=t;o.classList.add("datepicker-input");d=E(o.value,a.dateDelimiter)}if(r){var c=r.inputs.indexOf(o);var u=r.datepickers;if(c<0||c>1||!Array.isArray(u))throw Error("Invalid rangepicker object.");u[c]=this;Object.defineProperty(this,"rangepicker",{get:function(){return r}})}this.dates=[];var h=st(this,d);h&&h.length>0&&(this.dates=h);o&&(o.value=nt(this.dates,a));var f=this.picker=new $e(this);if(s)this.show();else{var v=at.bind(null,this);var p=[[o,"keydown",Ze.bind(null,this)],[o,"focus",et.bind(null,this)],[o,"mousedown",tt.bind(null,this)],[o,"click",it.bind(null,this)],[o,"paste",rt.bind(null,this)],[document,"mousedown",v],[document,"touchstart",v],[window,"resize",f.place.bind(f)]];ae(this,p)}}
/**
   * Format Date object or time value in given format and language
   * @param  {Date|Number} date - date or time value to format
   * @param  {String|Object} format - format string or object that contains
   * toDisplay() custom formatter, whose signature is
   * - args:
   *   - date: {Date} - Date instance of the date passed to the method
   *   - format: {Object} - the format object passed to the method
   *   - locale: {Object} - locale for the language specified by `lang`
   * - return:
   *     {String} formatted date
   * @param  {String} [lang=en] - language code for the locale to use
   * @return {String} formatted date
   */return o(e,[{key:"active",get:
/**
     * @type {Boolean} - Whether the picker element is shown. `true` whne shown
     */
function(){return!!(this.picker&&this.picker.active)}
/**
     * @type {HTMLDivElement} - DOM object of picker element
     */},{key:"pickerElement",get:function(){return this.picker?this.picker.element:void 0}
/**
     * Set new values to the config options
     * @param {Object} options - config options to update
     */},{key:"setOptions",value:function(e){var t=this.picker;var i=Se(e,this);Object.assign(this._options,e);Object.assign(this.config,i);t.setOptions(i);ot(this,3)}},{key:"show",value:function(){if(this.inputField){if(this.inputField.disabled)return;if(this.inputField!==document.activeElement){this._showing=true;this.inputField.focus();delete this._showing}}this.picker.show()}},{key:"hide",value:function(){if(!this.inline){this.picker.hide();this.picker.update().changeView(this.config.startView).render()}}},{key:"destroy",value:function(){this.hide();ne(this);this.picker.detach();this.inline||this.inputField.classList.remove("datepicker-input");delete this.element.datepicker;return this}
/**
     * Get the selected date(s)
     *
     * The method returns a Date object of selected date by default, and returns
     * an array of selected dates in multidate mode. If format string is passed,
     * it returns date string(s) formatted in given format.
     *
     * @param  {String} [format] - Format string to stringify the date(s)
     * @return {Date|String|Date[]|String[]} - selected date(s), or if none is
     * selected, empty array in multidate mode and untitled in sigledate mode
     */},{key:"getDate",value:function(){var e=this;var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;var i=t?function(i){return Z(i,t,e.config.locale)}:function(e){return new Date(e)};return this.config.multidate?this.dates.map(i):this.dates.length>0?i(this.dates[0]):void 0}
/**
     * Set selected date(s)
     *
     * In multidate mode, you can pass multiple dates as a series of arguments
     * or an array. (Since each date is parsed individually, the type of the
     * dates doesn't have to be the same.)
     * The given dates are used to toggle the select status of each date. The
     * number of selected dates is kept from exceeding the length set to
     * maxNumberOfDates.
     *
     * With clear: true option, the method can be used to clear the selection
     * and to replace the selection instead of toggling in multidate mode.
     * If the option is passed with no date arguments or an empty dates array,
     * it works as "clear" (clear the selection then set nothing), and if the
     * option is passed with new dates to select, it works as "replace" (clear
     * the selection then set the given dates)
     *
     * When render: false option is used, the method omits re-rendering the
     * picker element. In this case, you need to call refresh() method later in
     * order for the picker element to reflect the changes. The input field is
     * refreshed always regardless of this option.
     *
     * When invalid (unparsable, repeated, disabled or out-of-range) dates are
     * passed, the method ignores them and applies only valid ones. In the case
     * that all the given dates are invalid, which is distinguished from passing
     * no dates, the method considers it as an error and leaves the selection
     * untouched.
     *
     * @param {...(Date|Number|String)|Array} [dates] - Date strings, Date
     * objects, time values or mix of those for new selection
     * @param {Object} [options] - function options
     * - clear: {boolean} - Whether to clear the existing selection
     *     defualt: false
     * - render: {boolean} - Whether to re-render the picker element
     *     default: true
     * - autohide: {boolean} - Whether to hide the picker element after re-render
     *     Ignored when used with render: false
     *     default: config.autohide
     */},{key:"setDate",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=[].concat(t);var a={};var n=M(t);x(n)!=="object"||Array.isArray(n)||n instanceof Date||!n||Object.assign(a,r.pop());var s=Array.isArray(r[0])?r[0]:r;dt(this,s,a)}
/**
     * Update the selected date(s) with input field's value
     * Not available on inline picker
     *
     * The input field will be refreshed with properly formatted date string.
     *
     * @param  {Object} [options] - function options
     * - autohide: {boolean} - whether to hide the picker element after refresh
     *     default: false
     */},{key:"update",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;if(!this.inline){var t={clear:true,autohide:!!(e&&e.autohide)};var i=E(this.inputField.value,this.config.dateDelimiter);dt(this,i,t)}}
/**
     * Refresh the picker element and the associated input field
     * @param {String} [target] - target item when refreshing one item only
     * 'picker' or 'input'
     * @param {Boolean} [forceRender] - whether to re-render the picker element
     * regardless of its state instead of optimized refresh
     */},{key:"refresh",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(e&&typeof e!=="string"){t=e;e=void 0}var i;i=e==="picker"?2:e==="input"?1:3;ot(this,i,!t)}},{key:"enterEditMode",value:function(){if(!this.inline&&this.picker.active&&!this.editMode){this.editMode=true;this.inputField.classList.add("in-edit","border-brand")}}
/**
     * Exit from edit mode
     * Not available on inline picker
     * @param  {Object} [options] - function options
     * - update: {boolean} - whether to call update() after exiting
     *     If false, input field is revert to the existing selection
     *     default: false
     */},{key:"exitEditMode",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;if(!this.inline&&this.editMode){var t=Object.assign({update:false},e);delete this.editMode;this.inputField.classList.remove("in-edit","border-brand");t.update&&this.update(t)}}}],[{key:"formatDate",value:function(e,t,i){return Z(e,t,i&&le[i]||le.en)}
/**
     * Parse date string
     * @param  {String|Date|Number} dateStr - date string, Date object or time
     * value to parse
     * @param  {String|Object} format - format string or object that contains
     * toValue() custom parser, whose signature is
     * - args:
     *   - dateStr: {String|Date|Number} - the dateStr passed to the method
     *   - format: {Object} - the format object passed to the method
     *   - locale: {Object} - locale for the language specified by `lang`
     * - return:
     *     {Date|Number} parsed date or its time value
     * @param  {String} [lang=en] - language code for the locale to use
     * @return {Number} time value of parsed date
     */},{key:"parseDate",value:function(e,t,i){return Q(e,t,i&&le[i]||le.en)}
/**
     * @type {Object} - Installed locales in `[languageCode]: localeObject` format
     * en`:_English (US)_ is pre-installed.
     */},{key:"locales",get:function(){return le}}])}();function ct(e){var t=Object.assign({},e);delete t.inputs;delete t.allowOneSidedRange;delete t.maxNumberOfDates;return t}function ut(e,t,i,r){ae(e,[[i,"changeDate",t]]);new lt(i,r,e)}function ht(e,t){if(!e._updating){e._updating=true;var i=t.target;if(i.datepicker!==void 0){var r=e.datepickers;var a={render:false};var n=e.inputs.indexOf(i);var s=n===0?1:0;var o=r[n].dates[0];var d=r[s].dates[0];if(o!==void 0&&d!==void 0){if(n===0&&o>d){r[0].setDate(d,a);r[1].setDate(o,a)}else if(n===1&&o<d){r[0].setDate(o,a);r[1].setDate(d,a)}}else if(!e.allowOneSidedRange&&(o!==void 0||d!==void 0)){a.clear=true;r[s].setDate(r[n].dates,a)}r[0].picker.update().render();r[1].picker.update().render();delete e._updating}}}var ft=function(){
/**
   * Create a date range picker
   * @param  {Element} element - element to bind a date range picker
   * @param  {Object} [options] - config options
   */
function e(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};n(this,e);var r=Array.isArray(i.inputs)?i.inputs:Array.from(t.querySelectorAll("input"));if(!(r.length<2)){t.rangepicker=this;this.element=t;this.inputs=r.slice(0,2);this.allowOneSidedRange=!!i.allowOneSidedRange;var a=ht.bind(null,this);var s=ct(i);var o=[];Object.defineProperty(this,"datepickers",{get:function(){return o}});ut(this,a,this.inputs[0],s);ut(this,a,this.inputs[1],s);Object.freeze(o);o[0].dates.length>0?ht(this,{target:this.inputs[0]}):o[1].dates.length>0&&ht(this,{target:this.inputs[1]})}}
/**
   * @type {Array} - selected date of the linked date pickers
   */return o(e,[{key:"dates",get:function(){return this.datepickers.length===2?[this.datepickers[0].dates[0],this.datepickers[1].dates[0]]:void 0}
/**
     * Set new values to the config options
     * @param {Object} options - config options to update
     */},{key:"setOptions",value:function(e){this.allowOneSidedRange=!!e.allowOneSidedRange;var t=ct(e);this.datepickers[0].setOptions(t);this.datepickers[1].setOptions(t)}},{key:"destroy",value:function(){this.datepickers[0].destroy();this.datepickers[1].destroy();ne(this);delete this.element.rangepicker}
/**
     * Get the start and end dates of the date range
     *
     * The method returns Date objects by default. If format string is passed,
     * it returns date strings formatted in given format.
     * The result array always contains 2 items (start date/end date) and
     * undefined is used for unselected side. (e.g. If none is selected,
     * the result will be [undefined, undefined]. If only the end date is set
     * when allowOneSidedRange config option is true, [undefined, endDate] will
     * be returned.)
     *
     * @param  {String} [format] - Format string to stringify the dates
     * @return {Array} - Start and end dates
     */},{key:"getDates",value:function(){var e=this;var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;var i=t?function(i){return Z(i,t,e.datepickers[0].config.locale)}:function(e){return new Date(e)};return this.dates.map((function(e){return e===void 0?e:i(e)}))}
/**
     * Set the start and end dates of the date range
     *
     * The method calls datepicker.setDate() internally using each of the
     * arguments in start→end order.
     *
     * When a clear: true option object is passed instead of a date, the method
     * clears the date.
     *
     * If an invalid date, the same date as the current one or an option object
     * without clear: true is passed, the method considers that argument as an
     * "ineffective" argument because calling datepicker.setDate() with those
     * values makes no changes to the date selection.
     *
     * When the allowOneSidedRange config option is false, passing {clear: true}
     * to clear the range works only when it is done to the last effective
     * argument (in other words, passed to rangeEnd or to rangeStart along with
     * ineffective rangeEnd). This is because when the date range is changed,
     * it gets normalized based on the last change at the end of the changing
     * process.
     *
     * @param {Date|Number|String|Object} rangeStart - Start date of the range
     * or {clear: true} to clear the date
     * @param {Date|Number|String|Object} rangeEnd - End date of the range
     * or {clear: true} to clear the date
     */},{key:"setDates",value:function(e,t){var i=y(this.datepickers,2),r=i[0],a=i[1];var n=this.dates;this._updating=true;r.setDate(e);a.setDate(t);delete this._updating;a.dates[0]!==n[1]?ht(this,{target:this.inputs[1]}):r.dates[0]!==n[0]&&ht(this,{target:this.inputs[0]})}}])}();export{ft as DateRangePicker,lt as Datepicker};

